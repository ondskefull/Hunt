(()=>{var t={820:function(t,e,n){var r;t.exports=(r=r||function(t,e){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(480)}catch(t){}var a=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),o={},s=o.lib={},c=s.Base={extend:function(t){var e=i(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=c.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,a=t.sigBytes;if(this.clamp(),r%4)for(var i=0;i<a;i++){var o=n[i>>>2]>>>24-i%4*8&255;e[r+i>>>2]|=o<<24-(r+i)%4*8}else for(var s=0;s<a;s+=4)e[r+s>>>2]=n[s>>>2];return this.sigBytes+=a,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=c.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(a());return new u.init(e,t)}}),d=o.enc={},l=d.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],a=0;a<n;a++){var i=e[a>>>2]>>>24-a%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new u.init(n,e/2)}},p=d.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],a=0;a<n;a++){var i=e[a>>>2]>>>24-a%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new u.init(n,e)}},h=d.Utf8={stringify:function(t){try{return decodeURIComponent(escape(p.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return p.parse(unescape(encodeURIComponent(t)))}},f=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n,r=this._data,a=r.words,i=r.sigBytes,o=this.blockSize,s=i/(4*o),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*o,d=t.min(4*c,i);if(c){for(var l=0;l<c;l+=o)this._doProcessBlock(a,l);n=a.splice(0,c),r.sigBytes-=d}return new u.init(n,d)},clone:function(){var t=c.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),g=(s.Hasher=f.extend({cfg:c.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new g.HMAC.init(t,n).finalize(e)}}}),o.algo={});return o}(Math),r)},211:function(t,e,n){var r;t.exports=(r=n(820),function(t){var e=r,n=e.lib,a=n.WordArray,i=n.Hasher,o=e.algo,s=[],c=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,a=0;a<64;)e(r)&&(a<8&&(s[a]=n(t.pow(r,.5))),c[a]=n(t.pow(r,1/3)),a++),r++}();var u=[],d=o.SHA256=i.extend({_doReset:function(){this._hash=new a.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],d=n[5],l=n[6],p=n[7],h=0;h<64;h++){if(h<16)u[h]=0|t[e+h];else{var f=u[h-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,v=u[h-2],y=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[h]=g+u[h-7]+y+u[h-16]}var w=r&a^r&i^a&i,m=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=p+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&d^~s&l)+c[h]+u[h];p=l,l=d,d=s,s=o+b|0,o=i,i=a,a=r,r=b+(m+w)|0}n[0]=n[0]+r|0,n[1]=n[1]+a|0,n[2]=n[2]+i|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+d|0,n[6]=n[6]+l|0,n[7]=n[7]+p|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,a=8*e.sigBytes;return n[a>>>5]|=128<<24-a%32,n[14+(a+64>>>9<<4)]=t.floor(r/4294967296),n[15+(a+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=i._createHelper(d),e.HmacSHA256=i._createHmacHelper(d)}(Math),r.SHA256)},453:()=>{!function(t,e){"use strict";t=t||"docReady",e=e||window;var n=[],r=!1,a=!1;function i(){if(!r){r=!0;for(var t=0;t<n.length;t++)n[t].fn.call(window,n[t].ctx);n=[]}}function o(){"complete"===document.readyState&&i()}e[t]=function(t,e){if("function"!=typeof t)throw new TypeError("callback for docReady(fn) must be a function");r?setTimeout((function(){t(e)}),1):(n.push({fn:t,ctx:e}),"complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(i,1):a||(document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):(document.attachEvent("onreadystatechange",o),window.attachEvent("onload",i)),a=!0))}}("docReady",window)},480:()=>{}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n(453);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}function u(){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=c(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}}).apply(this,arguments)}function d(t,e){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=n(211),v=n.n(g),y=document,w=(parent,window,function(t,e){var n=y.createElement("img");return n.height=1,n.width=1,n.style.display="none",n.src=t,n.onload=e,n.alt="",y.body.appendChild(n)}),m=function(t){var e=y.createElement("iframe");return e.width=1,e.height=1,e.style.display="none",e.src=t,y.body.appendChild(e)},b=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=y.createElement("script");return n.type="text/javascript",n.src=t,n.async=e,y.body.appendChild(n)},S=function(t){for(var e="_au_"+t+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var a=n[r];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return null},A=function(t,e,n){return(parseInt(S(t))||0)+e<n},_=function(t,e){document.cookie="_au_"+t+"="+e+"; domain="+function(t){var e=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,n=t.split("."),r=n[n.length-1];(r.length>4||"com"===r||"org"===r||"net"===r)&&(e=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i);var a=t.match(e);return a?a[0]:t}(document.location.hostname)+"; path=/; max-age=31536000"};function T(t){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ".split("");t||(t=Math.floor(Math.random()*e.length));for(var n="",r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n}var P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function C(t){var e,n,r,a,i,o,s,c="",u=0;for(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e}(t);u<t.length;)a=(e=t.charCodeAt(u++))>>2,i=(3&e)<<4|(n=t.charCodeAt(u++))>>4,o=(15&n)<<2|(r=t.charCodeAt(u++))>>6,s=63&r,isNaN(n)?o=s=64:isNaN(r)&&(s=64),c=c+P.charAt(a)+P.charAt(i)+P.charAt(o)+P.charAt(s);return c}var E=function(){function t(e){r(this,t),this.pixels=e,this.parameters={sku:"",orderId:"",qty:"",revenue:"",ltv:""}}return i(t,[{key:"dropPixel",value:function(t,e){var n=this.pixels[t]||[],r=this.parameters;e&&Object.keys(e).forEach((function(t){return r[t]=e[t],!1})),n.forEach((function(t){var e=t,n="img";return"string"!=typeof t&&(e=t[0],(n=t[1])||(n="img")),e=(e=(e=(e=(e=(e=e.replace(/\[\[SKU\]\]/g,r.sku)).replace(/\[\[ORDERID\]\]/g,r.orderId)).replace(/\[\[QTY\]\]/g,r.qty)).replace(/\[\[REVENUE\]\]/g,r.revenue)).replace(/\[\[LTV\]\]/g,r.ltv)).replace(/\[\[ITEMS\]\]/g,(r.items||[]).map((function(t){return t.id||""})).join(",")),"img"===n?w(e):"script"===n?b(e):"iframe"===n&&m(e)}))}}]),t}(),O=function(){function t(e,n){r(this,t),this.partnerId=e,this.taggerId=n,window.aupixels?this.pixels=window.aupixels.ec||{}:this.pixels={},this.ECPixels=new E(this.pixels),this.pageLoadRun=[],window.Adgt||(window.Adgt={}),window.Adgt.VarWatch=function(t,e,n){var r=t[e];return function(){if(t[e]!=r){var a=r;r=t[e],n(a,r)}}},window.Adgt.VarHandler=function(t,e){window.au.push({category:"DispatchEvent",eventName:"ProductMetaUpdated"}),clearInterval(window.Adgt.variantInterval)},window.Adgt.SetVarInterval=function(t,e){window.Adgt.variantInterval=setInterval(window.Adgt.VarWatch(t,e,window.Adgt.VarHandler),100)},window.Adgt.Store=this}return i(t,[{key:"pathIncludes",value:function(t){return-1!==window.location.pathname.indexOf(t)}},{key:"updatePixels",value:function(){var t=this;this.pixels=window.aupixels.ec||{},this.ECPixels=new E(this.pixels),this.pageLoadRun.forEach((function(e){var n={};"add"===e||"view"===e?n={sku:t.product.id}:"checkout"===e?n={qty:t.qty,revenue:t.revenue}:"transaction"===e&&(n={qty:t.transaction.items.length||t.qty,revenue:t.transaction.revenue||t.revenue,orderId:t.transaction.id}),t.ECPixels.dropPixel(e,n)})),this.pageLoadRun=[]}},{key:"appendPageLoadPixelCheck",value:function(t){this.pageLoadRun.filter((function(e){return e===t})).length||this.pageLoadRun.push(t)}},{key:"setClassProducts",value:function(t){this.products=t,this.qty=t.length,this.revenue=t.reduce((function(t,e){return t+parseFloat(e.price)}),0)}},{key:"sendAddProductEventToGA",value:function(t){this.product=t;try{this.sendAddProductToGA(t),ga("".concat("auPassiveTagger",".ec:setAction"),"add"),ga("".concat("auPassiveTagger",".send"),"event","UX","click","add to cart"),this.ECPixels.dropPixel("add",{sku:t.id,revenue:t.price.toFixed(2)})}catch(t){console.error(t)}}},{key:"sendViewProductEventToGA",value:function(t){this.product=t;try{ga("".concat("auPassiveTagger",".ec:addImpression"),{id:t.id,name:t.name,price:t.price,brand:t.brand}),ga("".concat("auPassiveTagger",".ec:setAction"),"detail"),ga("".concat("auPassiveTagger",".send"),"pageview"),this.ECPixels.dropPixel("view",{sku:t.id})}catch(t){console.error(t)}}},{key:"sendAllProductsInCartToGA",value:function(t,e){this.setClassProducts(t);try{for(var n=0;n<t.length;n++){var r=t[n];this.sendAddProductToGA(r)}return e(),!0}catch(t){return!1}}},{key:"sendCheckoutEventToGA",value:function(){try{ga("".concat("auPassiveTagger",".ec:setAction"),"checkout",{step:1}),ga("".concat("auPassiveTagger",".send"),"event",{eventCategory:"Checkout",eventAction:"checkout",hitCallback:function(){}}),this.ECPixels.dropPixel("checkout",{qty:this.qty,revenue:this.revenue})}catch(t){console.error(t)}}},{key:"sendAllProductsInTransactionToGA",value:function(t,e){this.setClassProducts(t);try{for(var n=0;n<t.length;n++){var r=t[n];this.sendAddProductToGA(r)}return e(),!0}catch(t){return!1}}},{key:"sendAddProductToGA",value:function(t){ga("".concat("auPassiveTagger",".ec:addProduct"),{id:t.id,name:t.name,brand:t.brand,price:t.price,quantity:t.quantity||1})}},{key:"sendTransactionEventToGA",value:function(t){this.transaction=t;try{ga("".concat("auPassiveTagger",".ec:setAction"),"purchase",{id:t.id,affiliation:t.affiliation,revenue:t.revenue,tax:t.tax,shipping:t.shipping}),ga("".concat("auPassiveTagger",".send"),"pageview"),this.ECPixels.dropPixel("transaction",{qty:(t.items||[]).length||this.qty,revenue:t.revenue||this.revenue,orderId:t.id,items:t.items||[],ltv:t.ltv||""})}catch(t){console.error(t)}}},{key:"profilerServiceRequest",value:function(t){window.au.push({category:"sendUserBehaviour",action:JSON.stringify(t)})}},{key:"sendErrorToSentry",value:function(){return!1}}]),t}();function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var a=s(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}const I=function(t){l(n,t);var e=k(n);function n(t,a){var i;return r(this,n),(i=e.call(this,t,a)).brand=window.Shopify.shop,i}return i(n,[{key:"captureProduct",value:function(t){try{var e=window.ShopifyAnalytics.meta.selectedVariantId,n=window.ShopifyAnalytics.meta.product.variants[0];return t?n=window.ShopifyAnalytics.meta.product.variants.find((function(e){return e.public_title===t})):e&&(n=window.ShopifyAnalytics.meta.product.variants.find((function(t){return t.id.toString()===e.toString()}))),n||((n=window.ShopifyAnalytics.meta.product.variants[0]).id=window.ShopifyAnalytics.meta.product.id),{id:"".concat(n.id,"-").concat(this.taggerId),name:n.name,price:parseInt(n.price,10)/100,brand:this.brand}}catch(t){return console.error(t),null}}},{key:"sendProductEvents",value:function(){var t=this,e=this.captureProduct();if(e){this.sendViewProductEventToGA(e),this.appendPageLoadPixelCheck("view");var n=document.querySelector('button[name="add"]')||document.querySelector("form#add-item-form button")||document.querySelector("button.shopify_add_to_cart")||document.querySelector('input[name="add"]')||document.querySelector(".ProductForm__AddToCart")||document.querySelector("#AddToCart")||document.querySelector('.product-add input[type="submit"]');n&&window.au.push({category:"ListenerAttacher",input:n,method:function(){t.sendAddProductEventToGA(e),window.au.push({category:"behavior",action:"purchase-intent"});var n={event:"addToCart",data:e};t.profilerServiceRequest(n)}})}}},{key:"captureCart",value:function(){try{for(var t=document.querySelector("#order-summary").querySelectorAll("tr.product"),e=[],n=0;n<t.length;n++){var r=t[n],a=r.dataset.productId,i=r.querySelector(".product__description__name").textContent,o=parseFloat(r.querySelector(".product__price").textContent.replace(/[^0-9.]/g,"")),s=parseInt(r.querySelector(".product__quantity").textContent.replace(/\s+/g,""),10),c={id:"".concat(a,"-").concat(this.taggerId),name:i,brand:this.brand,price:o,quantity:s};e.push(c)}return e}catch(t){return console.error(t),null}}},{key:"calculateRevenue",value:function(t){for(var e=0,n=0;n<t.length;n++)e+=parseFloat(t[n].price);return e}},{key:"captureTransaction",value:function(){try{var t=window.Shopify.checkout,e=window.Shopify.shop,n=t.order_id,r=parseFloat(t.subtotal_price),a=0;try{a=parseFloat(t.total_tax)}catch(t){console.error(t)}var i=0;if(t.shipping_rate)try{i=parseFloat(t.shipping_rate)}catch(e){try{i=parseFloat(t.shipping_rate.price)}catch(t){console.error(t)}}var o=this.formatProductsInTransaction(t.line_items);return{id:"".concat(n,"-").concat(this.taggerId),affiliation:e,revenue:r,tax:a,shipping:i,items:o}}catch(t){return console.error(t),null}}},{key:"formatProductsInTransaction",value:function(t){for(var e=t,n=[],r=0;r<e.length;r++){var a=e[r],i={id:a.product_id,name:a.title,brand:this.brand,price:parseFloat(a.price),quantity:a.quantity};n.push(i)}return n}},{key:"initialize",value:function(){var t=this,e=window.ShopifyAnalytics&&window.ShopifyAnalytics.meta&&window.ShopifyAnalytics.meta.product,n=window.Shopify.Checkout&&window.Shopify.Checkout.page&&"thank_you"!==window.Shopify.Checkout.page,r=window.Shopify.checkout,a=document.querySelectorAll("div.quickadd");if(a.length>0)for(var i=function(e){var n=a[e],r=n.querySelector("button").dataset.cartAdd,i=n.querySelector('[class$="item__title"]').textContent;if(n.querySelector(".js-option-value")){var o=n.querySelector(".js-option-value").textContent.split(": ");i+=o[o.length-1]}var s={id:r,name:i,price:parseFloat(n.querySelector(".product-price__price").textContent.replace(/[^0-9.]/g,"")),brand:t.brand};window.au.push({category:"ListenerAttacher",input:n,method:function(){t.sendAddProductEventToGA(s);var e={event:"addToCart",data:s};window.au.push({category:"behavior",action:"purchase-intent"}),t.profilerServiceRequest(e)}})},o=0;o<a.length;o++)i(o);if(e){this.sendProductEvents();var s=document.querySelectorAll(".swatch-element");if(s.length>0){window.addEventListener("ProductMetaUpdated",(function(){t.sendProductEvents()}));for(var c=0;c<s.length;c++){var u=s[c];window.au.push({category:"ListenerAttacher",input:u,method:function(){window.Adgt.SetVarInterval(window.ShopifyAnalytics.meta,"selectedVariantId")}})}}}if(n){var d=this.captureCart();d&&(window.au.push({category:"behavior",action:"purchase-intent"}),this.appendPageLoadPixelCheck("checkout"),this.sendAllProductsInCartToGA(d,(function(){return t.sendCheckoutEventToGA()})))}if(r&&-1!==window.location.pathname.indexOf("thank_you")){var l=this.captureTransaction();if(l){var p=l.items;window.au.push({category:"behavior",action:"purchase-complete"}),this.appendPageLoadPixelCheck("transaction"),this.sendAllProductsInTransactionToGA(p,(function(){return t.sendTransactionEventToGA(l)}))}else this.transaction={id:"null-".concat(this.taggerId),affiliation:this.brand,revenue:0,tax:0,shipping:0,items:[]},this.appendPageLoadPixelCheck("transaction")}}}]),n}(O);var j=function(){function t(e,n){r(this,t),this.partnerId=e,this.dataStore=n,this.LAST_SEEN_TCF_KEY="last_seen_iab_tcf",this.LAST_SEEN_CUSTOM_KEY="last_seen_iab_custom",this.COOKIE_TTL=2592e6}return i(t,[{key:"SendToQueue",value:function(t){return A(this.LAST_SEEN_CUSTOM_KEY,this.COOKIE_TTL,1*new Date)&&(window.au.push({category:"sendConsent",consented:t,consentType:"custom"}),_(this.LAST_SEEN_CUSTOM_KEY,1*new Date)),ga("".concat("auPassiveTagger",".send"),{hitType:"event",eventCategory:t?"user_consent":"user_nonconsent",eventAction:window.location.hostname}),!0}},{key:"sendRequest",value:function(t){_(this.LAST_SEEN_TCF_KEY,1*new Date),window.au.push({category:"sendConsent",consented:t.vendor.consents[561]||!1,consentType:"gdpr",consentString:t.tcString})}},{key:"WmgConsentListeners",value:function(){var t=this;document.querySelectorAll("div.overlay, .ppclose, .ppclose2").forEach((function(e){e.addEventListener("click",(function(){return t.SendToQueue(!0)})),e.addEventListener("touchend",(function(){return t.SendToQueue(!0)}))}))}},{key:"UproxxConsentListeners",value:function(){var t=this;document.querySelectorAll(".qc-cmp-button").forEach((function(e){var n=!0;e.textContent.toLowerCase().includes("do not")&&(n=!1),e.addEventListener("click",(function(){return t.SendToQueue(n)})),e.addEventListener("touchend",(function(){return t.SendToQueue(n)}))}))}},{key:"addConsentListeners",value:function(){var t=this;"14"===String(this.partnerId)&&this.WmgConsentListeners(),"24"===String(this.partnerId)&&this.UproxxConsentListeners();try{__tcfapi("addEventListener",2,(function(e,n){n&&("tcloaded"===e.eventStatus&&e.gdprApplies&&A(t.LAST_SEEN_TCF_KEY,t.COOKIE_TTL,1*new Date)&&t.sendRequest(e),"useractioncomplete"===e.eventStatus&&e.gdprApplies&&t.sendRequest(e))}))}catch(t){return!1}return!1}}]),t}();const L=function(){function t(e){r(this,t),this.w=e,this.now=1*new Date,this.useCookie=!function(t){var e="au/test";try{return t.localStorage.setItem(e,e),t.localStorage.removeItem(e),!0}catch(t){return!1}}(this.w)}return i(t,[{key:"getCookie",value:function(t){return S(t)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.useCookie||e)return this.getCookie(t);var n=this.w.localStorage.getItem("au/"+t);if(n){var r=(n=JSON.parse(n)).e;if(r>this.now)return n.v;this.w.localStorage.removeItem("au/"+t)}return null}},{key:"setCookie",value:function(t,e){_(t,e)}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e4,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.useCookie||r?this.setCookie(t,e,n):this.w.localStorage.setItem("au/"+t,JSON.stringify({v:e,e:this.now+n}))}}]),t}();function x(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var G=window,H=document,N={"og:title":"title","og:description":"description","og:image":"image","og:url":"url","og:type":"type","og:name":"name","og:locale":"locale"},M={keywords:"keywords"},V=["462"];const U=function(){function t(e){var n=this;r(this,t),f(this,"setupGA",(function(){var t,e,r,a,i,o;G.ga||(e=H,r="script",a="ga",(t=G).GoogleAnalyticsObject=a,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,i=e.createElement(r),o=e.getElementsByTagName(r)[0],i.async=1,i.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(i,o)),ga("create","UA-87198801-1","auto","auPassiveTagger"),ga("".concat("auPassiveTagger",".require"),"ecommerce"),ga("".concat("auPassiveTagger",".require"),"ec"),ga("".concat("auPassiveTagger",".set"),"anonymizeIp",!0),ga("".concat("auPassiveTagger",".set"),"dimension1",n.auvars.a),ga("".concat("auPassiveTagger",".set"),"dimension2","none"),ga("".concat("auPassiveTagger",".set"),"dimension3",n.auvars.p),ga("".concat("auPassiveTagger",".set"),"dimension4",n.u.hostname),ga("".concat("auPassiveTagger",".set"),"dimension5",n.u.pathname),ga("".concat("auPassiveTagger",".set"),"dimension6","Passive Tagger")})),f(this,"setupGA4",(function(){if(V.includes(n.auvars.p.toString())){var t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?id=".concat("G-RH8QDSHETV"),document.head.appendChild(t),window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-RH8QDSHETV")}function e(){dataLayer.push(arguments)}})),f(this,"ListenerIterator",(function(t,e){Array.prototype.forEach.call(n.d.querySelectorAll(t),(function(t){n.ListenerAttacher({input:t,method:e})}))})),f(this,"ListenerAttacher",(function(t){var e=t.input,n=t.method;null!=e&&(e.addEventListener?e.addEventListener("mousedown",n):e.attachEvent&&e.attachEvent("mousedown",n))})),f(this,"GlobalListenerHandler",(function(t){n.GlobalHandlers[t.type].forEach((function(e){if(t.target.matches(e.selector))e.method(t);else for(var n=t.target,r=!1;n.parentElement&&!r;)(r=(n=n.parentElement).matches(e.selector))&&e.method(D(D({},t),{},{target:n}))}))})),f(this,"GlobalListenerAttacher",(function(t,e,r){"string"==typeof t&&(t=[t]),t.forEach((function(t){n.GlobalHandlers[t]=n.GlobalHandlers[t]||[],n.GlobalHandlers[t].push({selector:e,method:r}),document.addEventListener?(document.removeEventListener(t,window.au.l),document.addEventListener(t,window.au.l)):document.attachEvent&&(document.detachEvent(t,window.au.l),document.attachEvent(t,window.au.l))}))})),f(this,"sendOffsiteClick",(function(t){var e=t.url;w("".concat("https://a.ad.gt","/api/v1/off-site-click/").concat(n.auvars.p,"?tagger_id=").concat(n.auvars.t,"&url=").concat(e))})),f(this,"clickHandler",(function(t){var e=t.currentTarget.getAttribute("href");null!==e&&n.include_internal_links.includes(window.location.hostname)&&window.au.push({category:"sendSPAPageView",url:e})})),f(this,"sendUserBehaviour",(function(t){var e={click_url:t.action,tagger_id:n.auvars.t,audigent_id:n.auvars.a,partner_id:n.auvars.p},r=new XMLHttpRequest,a="".concat("https://p.ad.gt","/api/v1/ubh");r.open("POST",a,!0),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(e))})),f(this,"behavior",(function(t){var e=encodeURIComponent("".concat(n.u.protocol,"//").concat(n.u.hostname).concat(n.u.pathname,"__audigent-behavior-").concat(t.action).concat(n.u.search).concat(n.u.hash));n.sendOffsiteClick({url:e}),n.sendGAEvent({eventCategory:"audigent-behavior",eventAction:t.action,eventLabel:n.auvars.t})})),f(this,"sendEvent",(function(t){var e=t.event,r=t.events,a=t.type;if(!(e=e||r)){if(!a)return null;delete(e=D({},t)).category,delete e.partnerId}var i={tagger_id:n.auvars.t,partner_id:n.auvars.p,audigent_id:n.auvars.a,events:Array.isArray(e)?e:[e]},o=new XMLHttpRequest,s="".concat("https://p.ad.gt","/api/v1/event");return o.open("POST",s,!0),o.setRequestHeader("Content-type","application/json"),o.send(JSON.stringify(i)),""})),f(this,"sendGAEvent",(function(t){var e=t.eventCategory,n=t.eventAction,r=t.eventLabel,a=t.skipSQS;ga("".concat("auPassiveTagger",".send"),{hitType:"event",eventCategory:e,eventAction:n,eventLabel:r}),a||window.au.push({category:"sendEvent",event:{type:e,eventAction:n,eventLabel:r}})})),f(this,"sendConsent",(function(t){var e={audigent_id:n.auvars.a,tagger_id:n.auvars.t,partner_id:n.auvars.p,consented:t.consented,consent_type:t.consentType,consent_string:t.consentString},r=new XMLHttpRequest,a="".concat("https://p.ad.gt","/api/v1/con");return r.open("POST",a,!0),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(e)),""})),f(this,"pixels",(function(){var t="".concat("https://pixels.ad.gt","/api/v1/getpixels?tagger_id=").concat(n.auvars.t,"&url=").concat(encodeURIComponent(n.u.href),"&code='none'");b(t,!0)})),f(this,"setupConsentHandler",(function(){n.consentHandler.addConsentListeners()})),f(this,"sendSPAPageView",(function(t){var e=t.url;if(e){e.startsWith("//")&&(e="http://"+e),!e.startsWith("/")&&e.includes("://")||(e=n.d.location.protocol+"//"+n.d.location.host+(e.startsWith("/")?"":"/")+e);try{var r=new URL(e);r.host===n.d.location.host&&(n.sendOffsiteClick(r.href),ga("".concat("auPassiveTagger",".send"),"pageview",r.pathname+r.hash))}catch(t){}}})),f(this,"beopEvent",(function(t){var e=t.partnerId||n.auvars.p;n.sendEvent({event:D(D({},t.data||{}),{},{partner_id:e,type:"beop"})})})),f(this,"trackEvent",(function(t){return!1})),f(this,"DispatchEvent",(function(t){var e=function(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e={bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}(t.eventName);window.dispatchEvent(e)})),f(this,"optout",(function(){w("".concat("https://ids.ad.gt","/api/v1/optout?au_id=").concat(n.auvars.a))}));var a=e||{},i=a.auvars,o=a.decoratorTarget,s=a.taggerStrategyComponents;this.w=G,this.u=G.location,this.d=H,this.auvars=i,this.dataStore=new L(G),this.customOptions={},this.customTags=[],this.customAttributes={},this.userDefinedTags=[],this.userDefinedAttributes={},this.GlobalHandlers={},this.randNum=Math.random(),this.decoratorTarget=o||.995,this.u.hostname.toLowerCase().endsWith("lnk.to")?this.taggerStrategyComponents="FULL_PATH":this.taggerStrategyComponents=s||this.auvars.tgsc||"NONE",this.consentHandler=new j(this.auvars.p,this.dataStore),this.docReady=this.docReady.bind(this),this.facebook=this.facebook.bind(this)}return i(t,[{key:"valueOf",value:function(){return null}},{key:"docReady",value:function(){var t=this;if(this.setupSessionId(),this.setupHadron(),this.setupGA(),this.setupGA4(),this.facebook(),!1!==this.customOptions.autoPageView&&this.sendPageView(),this.setupConsentHandler(),this.ListenerIterator("a",this.clickHandler),this.include_internal_links=[],G.addEventListener("hashchange",(function(){t.sendSPAPageView({url:t.u.href}),t.pixels()})),window.Shopify){var e=new I(this.auvars.p,this.auvars.t);e.initialize(),window.addEventListener("aupixels",(function(){e.updatePixels()}))}}},{key:"clearOptions",value:function(){this.customOptions={}}},{key:"setOptions",value:function(t){var e=(t||{}).options;return"object"===p(e)&&(this.customOptions=D(D({},this.customOptions),e),!0)}},{key:"observeDom",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{childList:!0},r=window.MutationObserver||window.WebKitMutationObserver;if(t&&1===t.nodeType){if(r){var a=new r(e);return a.observe(t,n),a}window.addEventListener&&(t.addEventListener("DOMNodeInserted",e,!1),t.addEventListener("DOMNodeRemoved",e,!1))}}},{key:"facebook",value:function(){return!0===this.auvars.fbq&&(t=window,e=document,n="script",t.fbq||(r=t.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},t._fbq||(t._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],(a=e.createElement(n)).async=!0,a.src="https://connect.facebook.net/en_US/fbevents.js",(i=e.getElementsByTagName(n)[0]).parentNode.insertBefore(a,i)),fbq("init","1853083501571805"),!0);var t,e,n,r,a,i}},{key:"push",value:function(t,e,n){var r=this;if("string"==typeof t)return e&&e!==this.auvars.p?(console.warn("[Audigent] skip .push("+t+"), p is not a match"),!1):(console.warn('[Audigent] deprecated use of "push": please use .push( object )'),(this[t]||function(){return!1}).call(this,n),!0);if(t&&"object"===p(t)){var a=t.fn,i=t.category,o=t.partnerId,s=a||i;if(o&&o!==this.auvars.p)return console.warn("[Audigent] skip .push("+s+"), partnerId is not a match"),!1;if(a){var c=t.args;return Array.isArray(c)?(c.map((function(t){return(r[s]||function(){return!1}).call(r,t)})),!0):((this[s]||function(){return!1}).call(this,c),!0)}return(this[s]||function(){return!1}).call(this,t),!0}return console.warn("[Audigent] could not execute the required command: please check your syntax"),!1}},{key:"setupHadron",value:function(){!0===(this.w.hadron||{loaded:!1}).loaded?this.auvars.h=this.w.hadron.id:this.auvars.h=null}},{key:"getAudigentId",value:function(t){if(t instanceof Function)return t(this.auvars.a),this.auvars.a;var e=(t||{}).callback;return e instanceof Function&&e(this.auvars.a),this.auvars.a}},{key:"setupSessionId",value:function(){var t,e=this.dataStore.get("sid");null==e&&(t=Math.round(Date.now()/1e3),e="AU1S-0100-"+String(t).padStart(12,"0")+"-"+T(8)+"-"+T(4)),this.auvars.s=e,this.dataStore.set("sid",e,18e5)}},{key:"getTaggerComponents",value:function(){return null}},{key:"setupTaggerId",value:function(){var t=this.u.hostname.toLowerCase(),e=this.getTags(),n=this.getTaggerComponents();Array.isArray(n)&&n.length>0||(n="FULL_PATH"==this.taggerStrategyComponents?[t,this.u.pathname,this.auvars.p]:Array.isArray(e)&&e.length>0?[t,"["+e.join(",").toLowerCase()+"]",this.auvars.p]:[t,"/",this.auvars.p]);var r=function(t){function e(t,e){var n,r,a,i,o;return a=2147483648&t,i=2147483648&e,o=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(r=1073741824&e)?2147483648^o^a^i:n|r?1073741824&o?3221225472^o^a^i:1073741824^o^a^i:o^a^i}function n(t,n,r,a,i,o,s){return t=e(t,e(e(n&r|~n&a,i),s)),e(t<<o|t>>>32-o,n)}function r(t,n,r,a,i,o,s){return t=e(t,e(e(n&a|r&~a,i),s)),e(t<<o|t>>>32-o,n)}function a(t,n,r,a,i,o,s){return t=e(t,e(e(n^r^a,i),s)),e(t<<o|t>>>32-o,n)}function i(t,n,r,a,i,o,s){return t=e(t,e(e(r^(n|~a),i),s)),e(t<<o|t>>>32-o,n)}function o(t){var e,n="",r="";for(e=0;3>=e;e++)n+=(r="0"+(r=t>>>8*e&255).toString(16)).substr(r.length-2,2);return n}var s,c,u,d,l,p,h,f,g;for(s=function(t){for(var e,n=t.length,r=16*(((e=n+8)-e%64)/64+1),a=Array(r-1),i=0,o=0;o<n;)i=o%4*8,a[e=(o-o%4)/4]|=t.charCodeAt(o)<<i,o++;return a[e=(o-o%4)/4]|=128<<o%4*8,a[r-2]=n<<3,a[r-1]=n>>>29,a}(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);128>r?e+=String.fromCharCode(r):(127<r&&2048>r?e+=String.fromCharCode(r>>6|192):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128)),e+=String.fromCharCode(63&r|128))}return e}(t)),p=1732584193,h=4023233417,f=2562383102,g=271733878,t=0;t<s.length;t+=16)c=p,u=h,d=f,l=g,p=n(p,h,f,g,s[t+0],7,3614090360),g=n(g,p,h,f,s[t+1],12,3905402710),f=n(f,g,p,h,s[t+2],17,606105819),h=n(h,f,g,p,s[t+3],22,3250441966),p=n(p,h,f,g,s[t+4],7,4118548399),g=n(g,p,h,f,s[t+5],12,1200080426),f=n(f,g,p,h,s[t+6],17,2821735955),h=n(h,f,g,p,s[t+7],22,4249261313),p=n(p,h,f,g,s[t+8],7,1770035416),g=n(g,p,h,f,s[t+9],12,2336552879),f=n(f,g,p,h,s[t+10],17,4294925233),h=n(h,f,g,p,s[t+11],22,2304563134),p=n(p,h,f,g,s[t+12],7,1804603682),g=n(g,p,h,f,s[t+13],12,4254626195),f=n(f,g,p,h,s[t+14],17,2792965006),p=r(p,h=n(h,f,g,p,s[t+15],22,1236535329),f,g,s[t+1],5,4129170786),g=r(g,p,h,f,s[t+6],9,3225465664),f=r(f,g,p,h,s[t+11],14,643717713),h=r(h,f,g,p,s[t+0],20,3921069994),p=r(p,h,f,g,s[t+5],5,3593408605),g=r(g,p,h,f,s[t+10],9,38016083),f=r(f,g,p,h,s[t+15],14,3634488961),h=r(h,f,g,p,s[t+4],20,3889429448),p=r(p,h,f,g,s[t+9],5,568446438),g=r(g,p,h,f,s[t+14],9,3275163606),f=r(f,g,p,h,s[t+3],14,4107603335),h=r(h,f,g,p,s[t+8],20,1163531501),p=r(p,h,f,g,s[t+13],5,2850285829),g=r(g,p,h,f,s[t+2],9,4243563512),f=r(f,g,p,h,s[t+7],14,1735328473),p=a(p,h=r(h,f,g,p,s[t+12],20,2368359562),f,g,s[t+5],4,4294588738),g=a(g,p,h,f,s[t+8],11,2272392833),f=a(f,g,p,h,s[t+11],16,1839030562),h=a(h,f,g,p,s[t+14],23,4259657740),p=a(p,h,f,g,s[t+1],4,2763975236),g=a(g,p,h,f,s[t+4],11,1272893353),f=a(f,g,p,h,s[t+7],16,4139469664),h=a(h,f,g,p,s[t+10],23,3200236656),p=a(p,h,f,g,s[t+13],4,681279174),g=a(g,p,h,f,s[t+0],11,3936430074),f=a(f,g,p,h,s[t+3],16,3572445317),h=a(h,f,g,p,s[t+6],23,76029189),p=a(p,h,f,g,s[t+9],4,3654602809),g=a(g,p,h,f,s[t+12],11,3873151461),f=a(f,g,p,h,s[t+15],16,530742520),p=i(p,h=a(h,f,g,p,s[t+2],23,3299628645),f,g,s[t+0],6,4096336452),g=i(g,p,h,f,s[t+7],10,1126891415),f=i(f,g,p,h,s[t+14],15,2878612391),h=i(h,f,g,p,s[t+5],21,4237533241),p=i(p,h,f,g,s[t+12],6,1700485571),g=i(g,p,h,f,s[t+3],10,2399980690),f=i(f,g,p,h,s[t+10],15,4293915773),h=i(h,f,g,p,s[t+1],21,2240044497),p=i(p,h,f,g,s[t+8],6,1873313359),g=i(g,p,h,f,s[t+15],10,4264355552),f=i(f,g,p,h,s[t+6],15,2734768916),h=i(h,f,g,p,s[t+13],21,1309151649),p=i(p,h,f,g,s[t+4],6,4149444226),g=i(g,p,h,f,s[t+11],10,3174756917),f=i(f,g,p,h,s[t+2],15,718787259),h=i(h,f,g,p,s[t+9],21,3951481745),p=e(p,c),h=e(h,u),f=e(f,d),g=e(g,l);return(o(p)+o(h)+o(f)+o(g)).toLowerCase()}(n.join("")).toLowerCase();return this.auvars.t=r,this.w.auvars.t=r,!0}},{key:"getMetaAttributes",value:function(){var t,e=this.d.querySelectorAll("meta"),n={url:this.u.href,title:this.d.title},r=x(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,i=a.getAttribute("property");if(i in N)n[N[i]]=a.getAttribute("content");else{var o=a.getAttribute("name");if(o in M){var s=M[o];n[s]="keywords"===s?(a.getAttribute("content")||"").split(",").map((function(t){return t.trim()})).filter((function(t){return t.length>0})):a.getAttribute("content")}else;}}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"getCustomAttributes",value:function(){return{}}},{key:"getAttributes",value:function(){return D(D(D(D({},this.customAttributes),this.userDefinedAttributes),this.getCustomAttributes()),this.getMetaAttributes())}},{key:"clearAttributes",value:function(){this.userDefinedAttributes={}}},{key:"setAttributes",value:function(t){var e=(t||{}).attributes;return"object"===p(e)&&(this.userDefinedAttributes=e,!0)}},{key:"addAttributes",value:function(t){var e=(t||{}).attributes;return"object"===p(e)&&(this.userDefinedAttributes=D(D({},this.userDefinedAttributes),e),!0)}},{key:"getMetaTags",value:function(){var t=this,e=document.head.querySelectorAll("meta[name='audigent:tags']")[0];return e?e.content.split("|").map((function(t){return t.trim()})).filter((function(t){return t.length>0})).map((function(e){return(t.u.hostname+" > "+e).toUpperCase()})):[]}},{key:"getCustomTags",value:function(){return[]}},{key:"getTags",value:function(){return[].concat(e(this.customTags),e(this.userDefinedTags),e(this.getCustomTags()),e(this.getMetaTags())).filter((function(t){return"string"==typeof t||t instanceof String})).map((function(t){return t.replace(/,/g,"")})).map((function(t){return t.trim()})).filter((function(t){return t.length>0})).map((function(t){return t.toUpperCase()}))}},{key:"clearTags",value:function(){this.userDefinedTags=[]}},{key:"setTags",value:function(t){var e=(t||{}).tags;return Array.isArray(e)?(this.userDefinedTags=e,!0):"string"==typeof e&&(this.userDefinedTags=[e],!0)}},{key:"addTags",value:function(t){var n=(t||{}).tags;return Array.isArray(n)?(this.userDefinedTags=[].concat(e(n),e(this.userDefinedTags)),!0):"string"==typeof n&&(this.userDefinedTags=[n].concat(e(this.userDefinedTags)),!0)}},{key:"writeDecoratorRecord",value:function(t){var n=t.tags,r=t.decor_dict,a=t.attributes;this.customTags=[].concat(e(this.customTags),e(n||[])),this.customAttributes=D(D(D({},this.customAttributes),r||{}),a||{})}},{key:"sendDecoratorRecord",value:function(){if(!(this.randNum>=this.decoratorTarget))return null;var t=this.getAttributes(),e=this.getTags(),n=D(D({},t),{},{tags:e.join(),tagger_id:this.auvars.t,partner_id:this.auvars.p}),r=new XMLHttpRequest,a="".concat("https://p.ad.gt","/api/v1/dec");return r.open("POST",a,!0),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(n)),r}},{key:"segCapture",value:function(){var t=window.au_seg;if(((t||{}).segments||[]).length>0&&this.randNum>=.9){var e={tagger_id:this.auvars.t,partner_id:this.auvars.p,audigent_id:this.auvars.a,segment_ids:t.segments.join("|")},n=new XMLHttpRequest,r="".concat("https://p.ad.gt","/api/v1/segs");return n.open("POST",r,!0),n.setRequestHeader("Content-type","application/json"),n.send(JSON.stringify(e)),!0}return!1}},{key:"tags",value:function(t){console.warn("[Audigent] this method is deprecated (params: "+JSON.stringify(t)+"). Use addTags/setTags/clearTags instead. Please contact your account manager for more info.");var e=(t.action||t.data||[]).map((function(t){return t.toUpperCase()}));this.push({category:"addTags",tags:e})}},{key:"conversion",value:function(t){console.log("[Audigent] Conversion Event - ".concat(t.action))}},{key:"sendPageView",value:function(t){this.setupTaggerId();var e=1*new Date,n={event_timestamp:e,url:this.w.location.href,referrer:this.d.referrer,partner_id:this.auvars.p,tagger_id:this.auvars.t,audigent_id:this.auvars.a,session_id:this.auvars.s};this.auvars.h&&(n.hadron_id=this.auvars.h);var r=(t||{}).data||{},a={category:"pageView",version:"v2",created_at:e,properties:D(D({},n),r)},i=new XMLHttpRequest,o="".concat("https://a.ad.gt","/api/v1/collect");i.open("POST",o,!0),i.setRequestHeader("Content-type","text/plain"),i.send(C(JSON.stringify(a))),this.pixels(),this.sendDecoratorRecord(),ga("".concat("auPassiveTagger",".set"),"dimension7",this.auvars.t),(this.randNum>=.9||["158"].includes(this.auvars.p.toString())&&this.randNum>=.7||["220"].includes(this.auvars.p.toString()))&&ga("".concat("auPassiveTagger",".send"),"pageview"),!0===this.auvars.fbq&&fbq("trackSingle","1853083501571805","PageView",{partner_id:this.auvars.p,tagger_id:this.auvars.t})}},{key:"setupInPageTaxonomy",value:function(t){var e=new URL("".concat("https://seg.ad.gt","/api/v1/segments"));e.searchParams.set("url",encodeURIComponent(this.u.href)),e.searchParams.set("partner_id",this.auvars.p),e.searchParams.set("tagger_id",this.auvars.t),e.searchParams.set("au_id",this.auvars.a);var n=new XMLHttpRequest;n.timeout=1e4,n.onload=function(){if(n.readyState==XMLHttpRequest.DONE&&200==n.status){var e=JSON.parse(n.response);G.au_seg=e;var r=new CustomEvent("auSegReady",{detail:e});H.dispatchEvent(r),(t||[]).forEach((function(t){return t(G,H,e.segments)})),G.au.push({category:"segCapture"})}},n.ontimeout=function(){console.log("[Audigent] Taxonomy Service > Timeout")},n.onerror=function(){console.log("[Audigent] Taxonomy Service > Invalid Response")},n.open("GET",e,!0),n.send()}},{key:"addUserIdentity",value:function(t){if(!t)return!1;var e=t.identityType,n=t.identityValue;if(void 0===e||void 0===n)return!1;if("email"===e){var r=window.btoa(n);return this.sendEvent({event:{type:"e",value:r}})}return this.sendEvent({event:f({type:"u"},e,n)})}},{key:"addUserProperty",value:function(t){if(!t)return!1;var e=t.propertyName,n=t.propertyValue;return void 0!==e&&void 0!==n&&("email"===e?this.addUserIdentity({identityType:"email",identityValue:n}):this.sendEvent({event:{type:"user.property",propertyName:e,propertyValue:n}}))}}]),t}();function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const J=i((function t(e,n,a){var i=this;r(this,t),f(this,"lineItemsContain",(function(t){return i.lineItemIds.map((function(t){return t.toString()})).includes((t||"").toString())})),f(this,"setJWPlayerListener",(function(){window.jwplayer&&(window.jwplayer().on("adImpression",i.readJWPlayerImpression),window.jwplayer().on("adComplete",(function(t){return i.readJWPlayerImpression(t,!0)})))})),f(this,"readJWPlayerImpression",(function(t,e){window.auvars[i.auvars.p].jwp_impressions=window.auvars[i.auvars.p].jwp_impressions||[],window.auvars[i.auvars.p].jwp_impressions.push(t);var n=t.viewable,r=t.viewable,a="jwplayer-".concat(t.placement),o=i.determineViewability(window.jwplayer().getContainer())||{},s=o.pageTop,c=o.pageBot,u=o.slotMiddle,d=((t.ima||{}).ad||{}).g;(d.adWrapperIds||[]).forEach((function(o,l){var p=o,h=d.adWrapperCreativeIds[l],f=d.mediaUrl,g={advertiser_id:"",campaign_id:"",line_item_id:p,creative_id:h,ad_slot_id:a,creative_blob:f,viewable:n,inViewPercentage:r,pageTop:s,pageBot:c,slotMiddle:u,event:"jwplayerAdImpression"};i.adSlots[a]=g,window.au.push({category:"sendEvent",events:[F(F({type:"jwp_impression"},g),{},{jwpType:t.type||""})]}),"GDFP"===d.adWrapperSystems[l]&&i.lineItemsContain(o)&&!e&&i.sendAdSlotInformation(g)}))})),f(this,"getAdSlotPayload",(function(t){if(!t)return!1;var e=t.getResponseInformation()||{},n=e.advertiserId,r=e.campaignId,a=e.lineItemId,o=e.creativeId,s=document.getElementById(t.getSlotElementId()),c=i.determineViewability(s)||{},u=c.pageTop,d=c.pageBot,l=c.slotMiddle,p=c.viewable,h=c.inViewPercentage;return{advertiser_id:n,campaign_id:r,line_item_id:a,creative_id:o,ad_slot_id:t.getAdUnitPath(),creative_blob:"",viewable:p,inViewPercentage:h,pageTop:u,pageBot:d,slotMiddle:l}})),f(this,"collectAndSendGoogleAdSlot",(function(t,e){var n=i.getAdSlotPayload(t)||{};return n.event=e,i.adSlots[n.ad_slot_id]=n,i.sendAdSlotInformation(n),!0})),f(this,"determineInViewPercentage",(function(t,e){var n=0;return t.top>=0&&t.bottom<=e&&(n=1),t.top<0&&t.bottom>0&&t.bottom<=e&&(n=t.bottom/t.height),t.top>=0&&t.top<=e&&t.bottom>e&&(n=(e-t.top)/t.height),Math.round(100*n)})),f(this,"determineViewability",(function(t){var e=t.getBoundingClientRect(),n=window.scrollY,r=window.innerHeight,a=n+r,o=Math.round(e.top+e.height/2),s=i.determineInViewPercentage(e,r);return{pageTop:n,pageBot:a,slotMiddle:o,viewable:s>=50,inViewPercentage:s}})),f(this,"compareVisiblePercentage",(function(t,e,n){var r=t.getAdUnitPath();i.adSlots[r]?i.adSlots[r].inViewPercentage<50&&e>=50&&i.collectAndSendGoogleAdSlot(t,n):i.collectAndSendGoogleAdSlot(t,n)})),f(this,"setGoogleEventListener",(function(){window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("slotRenderEnded",(function(t){i.collectAndSendGoogleAdSlot(t.slot,"slotRenderEnded")}))})),window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("slotOnload",(function(t){i.collectAndSendGoogleAdSlot(t.slot,"slotOnload")}))})),window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("impressionViewable",(function(t){i.collectAndSendGoogleAdSlot(t.slot,"impressionViewable")}))})),window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("slotVisibilityChanged",(function(t){i.compareVisiblePercentage(t.slot,t.inViewPercentage,"slotVisibilityChanged")}))}))})),f(this,"getCurrentGoogleAdSlots",(function(){var t=window.googletag&&window.googletag.pubads&&window.googletag.pubads().getSlots();return!!t&&(t.forEach((function(t){return i.collectAndSendGoogleAdSlot(t,"pageLoad")})),!0)})),f(this,"sendAdSlotInformation",(function(t){if(!i.orderIds.includes(t.campaign_id)&&!i.lineItemsContain(t.line_item_id))return!1;var e=new Date,n=F(F({},t),{},{datetime:e.toISOString(),audigent_id:i.auvars.a,tagger_id:i.auvars.t,partner_id:i.auvars.p,visit_id:i.auvars.visit_id,partner_site_host:window.location.hostname,partner_site_path:window.location.pathname});window.auvars[i.auvars.p].ad_slot_events=window.auvars[i.auvars.p].ad_slot_events||[],window.auvars[i.auvars.p].ad_slot_events.push(n),i.sendAdSlotToGoogleAnalytics(n);var r=new XMLHttpRequest,a="".concat("https://p.ad.gt","/api/v1/otp/dfp");return r.open("POST",a,!0),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(n)),r})),f(this,"sendAdSlotToGoogleAnalytics",(function(t){var e=t.visit_id,n=t.advertiser_id,r=t.campaign_id,a=t.line_item_id,o=t.creative_id,s=t.tagger_id,c=i.sharedToGA,u=c.advertiser_ids,d=c.campaign_ids,l=c.line_item_ids,p=c.creative_ids;return!(u.includes(n)&&d.includes(r)&&l.includes(a)&&p.includes(o))&&(i.sharedToGA.advertiser_ids.push(n),i.sharedToGA.campaign_ids.push(r),i.sharedToGA.line_item_ids.push(a),i.sharedToGA.creative_ids.push(o),window.ga("".concat("auPassiveTagger",".set"),"dimension10",e),window.ga("".concat("auPassiveTagger",".set"),"dimension11",n),window.ga("".concat("auPassiveTagger",".set"),"dimension12",r),window.ga("".concat("auPassiveTagger",".set"),"dimension13",a),window.ga("".concat("auPassiveTagger",".set"),"dimension14",o),"158"===i.auvars.p.toString()&&window.ga("".concat("auPassiveTagger",".send"),"pageview"),window.ga("".concat("auPassiveTagger",".send"),{hitType:"event",eventCategory:"smartotp",eventAction:"impression",eventLabel:s}),window.ga("".concat("auPassiveTagger",".set"),"dimension11",""),window.ga("".concat("auPassiveTagger",".set"),"dimension12",""),window.ga("".concat("auPassiveTagger",".set"),"dimension13",""),window.ga("".concat("auPassiveTagger",".set"),"dimension14",""),!0)})),this.auvars=e,this.adSlots={},this.sharedToGA={advertiser_ids:[],campaign_ids:[],line_item_ids:[],creative_ids:[]},this.orderIds=n||[],this.lineItemIds=a||[],this.getCurrentGoogleAdSlots(),this.setGoogleEventListener()}));function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var a=s(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}const X=function(t){l(a,t);var n=K(a);function a(t){var i;return r(this,a),f(o(i=n.call(this,t)),"checkJW",(function(){return i.jwp?(window.clearInterval(i.jwpInterval),null):(window.jwplayer&&(i.jwp=!0,i.smartOtpDfp.setJWPlayerListener()),null)})),f(o(i),"sendEcommerceEvent",(function(t){var n=t.type,r=t.data,a=new O;window.addEventListener("aupixels",(function(){a.updatePixels()}));if(!n||!r)return!1;if("add"===n||"add_to_cart"===n){var o=z(z({},r),{},{brand:r.brand||"Fandom"});a.sendAddProductEventToGA(o);var s={event:"addToCart",data:o};window.au.push({category:"behavior",action:"purchase-intent"}),a.profilerServiceRequest(s)}if("transaction"===n){var c=z(z({},r),{},{id:"".concat(r.orderId,"-").concat(i.auvars.t),affiliation:r.brand||"Fandom"}),u=c.items||[];u.length&&(u=u.map((function(t){return{id:t.productId||"",name:t.name||"",brand:t.brand||"Fandom",price:t.price||0,quantity:t.quantity||1}}))),i.sendEvent({events:[z({type:"purchase"},r)]}),a.appendPageLoadPixelCheck("transaction"),a.sendAllProductsInTransactionToGA(u,(function(){return a.sendTransactionEventToGA(c)})),window.localStorage.setItem("autx",JSON.stringify([].concat(e(JSON.parse(window.localStorage.getItem("autx")||"[]")),[r.orderId])))}return null})),f(o(i),"tagsReader",(function(){var t=[],n=[],r=[],a=i.d.querySelectorAll("div[data-gpt-page-params]"),o={gnre:["genre",[]],tv:["tv",[]],media:["media",[]],s0:["vertical",[]],s0c:["category",[]],esrb:["esrb",[]],pform:["platform",[]],pub:["publisher",[]],theme:["content theme",[]]};n.push((((window.ads||{}).context||{}).targeting||{}).wikiCategory||null),r.push((((window.ads||{}).context||{}).targeting||{}).wikiVertical||null),a.forEach((function(t){var e=JSON.parse(t.getAttribute("data-gpt-page-params"));Object.keys(o).forEach((function(t){var a=e[t]||[];"string"==typeof a&&(a=[a]),a.forEach((function(e){o[t][1].includes(e.toLowerCase())||o[t][1].push(e.toLowerCase())})),n.push(e.s0||null),r.push(e.s0v||null)}))})),Object.values(o).forEach((function(e){return e[1].forEach((function(n){return t.push("".concat(e[0].toLowerCase()," > ").concat(n.toLowerCase()))}))})),t=t.map((function(t){return t.toUpperCase()}));var s={};if(s.primaryCategory=Array.from(new Set(n.filter((function(t){return t>""})))).join(),s.pageType=Array.from(new Set(r.filter((function(t){return t>""})))).join(),null!=i.u.hostname.match(/(gamespot\.com|giantbomb\.com|metacritic\.com|tvguide\.com)$/gi)){var c=i.d.querySelector('meta[name="adtags"]');if(null!=c){var u={genre:"GENRE",gnre:"GENRE",productGenre:"GENRE",game:"GAME",franchise:"FRANCHISE",con:"PLATFORM",pform:"PLATFORM",network:"TV",tv:"TV"};new URLSearchParams(c.getAttribute("content")).forEach((function(n,r){if(!(n.indexOf("|")>-1)){var a=u[r];a&&(t=[].concat(e(t),e(n.split(",").filter((function(t){return("string"==typeof t||t instanceof String)&&t.trim().length>0&&"undefined"!==t})).map((function(t){return"N&R > ".concat(a," > ").concat(t.trim()).toUpperCase()})))))}})),i.push({category:"writeDecoratorRecord",tags:t,decor_dict:s})}else i.push({category:"writeDecoratorRecord",tags:t,decor_dict:s})}else i.push({category:"writeDecoratorRecord",tags:t,decor_dict:s})})),i.tagsReader(),i.docReady=i.docReady.bind(o(i)),i.auvars.visit_id=v()("".concat(i.auvars.a,"-").concat(i.auvars.p,"-").concat(Date.now())).toString(),i.orderIds=[2900055810,2800288231,2891350216,2430343433,2877953001,2776381195,2841579083,2914646399,2811709422,2926983725,2796335699,2884513845,2829955320,2903841116,2733074813,2697661630,2792713087,2800288231,2829955320,2733074813,2921587863,2939321473,2938145417,2947289709,2959018529,2956847257,2956205941,2958816444,2973366439,2970924710,2972735884,2983676295,2989477856,2994581224,2983439165,2991963287,3003612211,3016236842,3028254224,3029976933,3032140244,3038913241,3034810542,3052258033,2980079696,3061393169,3065810115,3065118863,3073088604,3079108697,3089527339,3075341921,3108212523,3102336897,3101006572,3111920815,3113902986,3124830143,3136140125,3135179415,3148495388,3158926786,3164227360],i.lineItemIds=["5837159488","5571436280","5783448216","5570139759","5783448225","5570139741","5761545988","5838772240","5785369187","5784798379","5835922698","5784798388","5837159503","5784798376","5785369859","5837159494","5839420556","5785369856","5570139747","5784798370","5785369853","5699466638","5570139750","5823087115","5838769909","5837159491","5788427160","5837159506","5835922689","5570139753","5571256462","5835922692","5784798385","5835922695","5838772237","5570139756","5823087109","5785369199","5785369193","5783448219","5823087118","5732727358","5571436277","5784798391","5779072942","5823087112","5838772246","5775108648","5823087103","5838772243","5785369184","5823087106","5732728285","5837159497","5784798373","5785369190","5785369196","5837159500","5790369275","5570139744","5784798382","5784798394","5783448222","5837159485","5837500044","5864800215","5864800221","5864800224","5866713284","5864800227","5864800230","5864800233","5864800236","5866042051","5866713287","5863568100","5863568103","5863568106","5863568109","5863568112","5863568115","5863568313","5863568316","5863568319","5864823262","5864823268","5863568097","5863568136","5863568139","5863568301","5863568304","5863568307","5863568310","5863568118","5863568121","5863568124","5863568127","5863568130","5863568133","5865821662","5893449075","5966923345","5966925760","5967431645","5967445127","5966923342","5966925265","5966925268","5966925271","5966925757","5966925763","5966925766","5966925769","5967431648","5967448694","5967448697","6232465573","6232465576","6232465579","6232465582","6232465585","6232465918","6232466041","6232466044","6232466047","6232466050","6232466053"],i.jwp=!1,i}return i(a,[{key:"docReady",value:function(){u(s(a.prototype),"docReady",this).call(this),this.smartOtpDfp=new J(this.auvars,this.orderIds,this.lineItemIds),window.jwplayer?(this.jwp=!0,this.smartOtpDfp.setJWPlayerListener()):this.jwpInterval=window.setInterval(this.checkJW,100)}}]),a}(U);!function(t){var n="158",r=t.au&&Array.isArray(t.au)?e(t.au):[];t.auvars.autag_objs=[].concat(e((t.auvars.autag_objs||[]).filter((function(t){return"autag"!==t}))),["autag"]),t.au={push:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.auvars.autag_objs.forEach((function(e){return Object.values(t[e]||{}).forEach((function(t){return t.push.apply(t,n)}))}))},l:function(e){t.auvars.autag_objs.forEach((function(n){return Object.values(t[n]||{}).forEach((function(t){return t.GlobalListenerHandler(e)}))}))},init:function(){t.auvars[n].hist=t.auvars[n].hist||[];var e=t.auvars[n].hist.slice(-1)[0];t.autag=t.autag||{},t.autag[n]&&e===t.location.href||(t.auvars[n].hist.push(t.location.href),t.autag[n]=new X({auvars:t.auvars[n]}))}},t.au.init(),r.forEach((function(e){return t.au.push(e)}))}(window),docReady((function(){return window.au.push({category:"docReady"})}))})()})();